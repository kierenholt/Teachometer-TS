<html>
<head> 
	<meta charset="UTF-8"> 
<link id="style" rel="stylesheet" type="text/css" href="style.css">
	
	<script src=assignment.js></script>
  <script async src="acorn_interpreter.js"></script>

<style>

@media print {
  body {
    font-size: medium;
  	font-family: serif;
  }
  div#scrolling {
    padding: 5px;
    margin-top: 0px;
  }
  .hideOnPrint {
    visibility:hidden;
    display: none;
  }
}


@media screen {
	
  body {
    font-size: x-small;
  }
  #outputTable.builder input[type=text] {
    width: 20px;
    height: 10px;
  }
  div#scrolling, div#settings {
    /* width: 100%; */
    padding: 0px;
    margin-top: 100px;
  }
}
    
</style>


<script>
	function doStuff()  {
		"use strict"
		var inputTable = document.getElementById("tests");
		var questionsDiv = document.getElementById("questionsDiv");
		var solutionsDiv = document.getElementById("solutionsDiv");
		var jumbledSolutionsDiv = document.getElementById("jumbledSolutionsDiv");

  		var internalSettings = {
			//"user":"user", inserted later on
			"jumbledSolutionsDiv": jumbledSolutionsDiv,
			"questionsDiv": questionsDiv,
			"solutionsDiv": solutionsDiv,
            "allowRowDelete" : true,
			"allowRefresh" : true,
			"allowGridlines": true,
            "submitOnlyOnce" : false,
            "submitButtonText" : "check answers",
            "showRowTitles": true,
            "reportScoreAsPercentage": true,
            "markbookUpdate": false,
			"outOfOnlyQuestionsAttempted": true,
			"appendToMarkbook": false
			};
			
		window.assignment = new AssignmentHTML(internalSettings, null);

		var rows = [];
		for (let i = 0, row; row = inputTable.rows[i]; i++) {
			rows.push(
					{
						"purpose" : row.cells[0].innerHTML, 
						"leftRight" : [row.cells[1].innerHTML,row.cells[2].innerHTML], 
						"title" :  row.cells[3].innerHTML,
						"comment" : row.cells[4].innerHTML
					}
				);
		}
		window.assignment.addRows(rows,false);
		
	};
	
	function doReveal() {
              document.getElementById("markbookUpdates").value = window.assignment.revealSections;
	}

	function doJSON() {
		document.getElementById("markbookUpdates").value = JSON.stringify(window.assignment.rows);
		}

	function addNewRow() {
		window.assignment.addRows(
					[{
						"purpose" : "question", 
						"leftRight" : ["left ___","right"],
						"title" : " title ", 
						"comment" : "4"
					}]);
	}

	function preview() {


    var previewSettings = {
        //"user":"user", inserted later on 
        "allowRowDelete" : false,
        "allowRefresh" : true,
        "submitOnlyOnce" : false,
        "submitButtonText" : "check answers",
        "showRowTitles": true,
        "reportScoreAsPercentage": true,
        "markbookUpdate": false,
        "outOfOnlyQuestionsAttempted": true,
        "allowGridlines" : true,
        "numChecksLeft": -1
        };
		window.assignment.previewInNewWindow(previewSettings,null);
	}
</script>

</head>
<body onload="doStuff()">
	

	<table id="tests" hidden>

		<tr><td>notes</td>
			<td>left</td>
			<td>right</td>
			<td>title</td>
			<td>comment</td>
</tr>

			<tr><td>notes</td>
				<td>![](https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png)
@[10,20](RELATIVE)</td>
<td>__</td>
<td>relative container</td>
<td></td>
</tr>
				
		<tr>
			<td>question</td>
			<td>
			what colour is the sky ? A. red B. blue C. something else
			what colour is the sky? ____
			what colour is the sky? {red/green/blue}
			</td>
			<td><td>question types - check correct columns are updated in markbook</td>
			<td>B
blue
blue
</td>
		</tr>	

<tr><td>notes</td><td>
```
code
goes here
    indent
        indent
        ___ shouldnt be input box ?
```
</td>
<td></td>
<td>code needs to respect white space</td>
<td></td></tr>

<tr>
	<td>template</td>
	<td>what is the remainder of $$ when it is divided by $$? ____</td><td></td>
	<td>simple template</td>
	<td>1e9..1e10
3,4,5,6,9
a%b</td>
</tr>

		<tr>
			<td>template</td>
			<td>__ + __ = ££</td>
			<td></td>
			<td>late evaluation</td>
			<td>variable("A")
variable("B")
A + B
</td>
		</tr>

		<tr>
			<td>template</td>
			<td>normal template
			$$ + $$ => __
			$$ includes $$ => $$
			</td>
			<td></td>
			<td>normal template, includes character</td>
			<td>22..44
22..44//
a+b
"ww","ss"
"w"
includes(d,e)
</td>
		</tr>
		

<tr><td>template</td><td>Given a string (parameter 1) return true if it is the weekend

_code_

_____________________

_enter custom parameters here_

isTheWeekend(__) => ££
isTheWeekend([2,3]) => ££
isTheWeekend([2,3]) == 1 []</td><td>
</td>
<td>code</td>
<td>code("isTheWeekend")
variable("B")
isTheWeekend(B)
isTheWeekend([2,3])
isTheWeekend([2,3]) == 1
</td></tr>

	
	
        <tr>
			<td>template</td>
			<td>varying link: [google]($$) 			</td>
			<td></td>
			<td>templated link</td>
			<td>"www.google.com"</td>
		</tr>
		
        <tr>
			<td>template</td>
			<td>![google]($$)</td><td></td>
		<td>templated image</td>
		<td>"https://i.imgur.com/K5bKuxQ.jpg"</td>
		</tr>

<tr><td>template</td>
	<td>$$ = {odd/even}</td>
	<td></td>
	<td>template with if</td>
	<td>1..9
if((a%2==0),"even","odd")</td></tr>


<tr><td>template</td>
	<td>Kev attempted four free dives. Freediving is when you try to go as deep as you can underwater in a single breath. 
The depths he achieved were: $$, $$, $$, and $$m

What was his average depth? ___ m</td>
<td></td>
<td>too many dps</td>
<td>e+(-50..50)*0.01
e+(-50..50)*0.01
e+(-50..50)*0.01
4*e-a-b-c
(3000..5000)*0.01</td></tr>

		<tr>
			<td>template</td>
			<td>__________________________ 
_result_
££</td>
<td></td>
<td>console</td>
<td>code("console")
console()</td>
		</tr>

	<tr>
			<td>sudoku</td>
			<td>$$ $$ $$ $$</td>
			<td></td>
			<td>sudoku</td>
			<td>2..9
a + 2
b + 2
c + 2
    </td>
		</tr>
		
	</table>
<div id="buttons" class="hideOnPrint">
	<button id=button type="button" onclick="doStuff()">output</button> 
	<button id=button type="button" onclick="doReveal()">reveal</button> 
	<button id=button type="button" onclick="doJSON()">show rows JSON</button> 
	<button id=button type="button" onclick="window.assignment.refresh()">refresh</button> 
	<button id=button type="button" onclick="window.assignment.deleteAll()">clear All</button> 
	<button id=button type="button" onclick="addNewRow()">add new row</button>
	<button id=button type="button" onclick="window.assignment.shuffle();window.assignment.updateQuestionNumbersAndMarkbookIndex();">shuffle</button>
	<button id=button type="button" onclick="window.assignment.truncate()">truncate 2</button>
	<button id=button type="button" onclick="window.assignment.showAllDecisionImages()">check answers</button>
	<button id=button type="button" onclick="preview()">preview</button>

	<br>
	<textarea style="display: block" rows=10 cols=30 id="markbookUpdates" ></textarea>
</div>
<div id="scrolling">
	<div id="questionsDiv" class="builder" style="padding-top: 122px"></div>
	
	<div id="jumbledSolutionsDivContainer">
		<h1>Jumbled solutions</h1>
		<div id="jumbledSolutionsDiv"></div>
	</div>

	<div id="solutionsDiv" class="builder pageBreakBefore">
		<h1>Solutions</h1>
	</div>
</div>
</body>
</html>
