/*!
 * reveal.js 1.4
 * http://lab.hakim.se/reveal-js
 * MIT licensed
 * 
 * Copyright (C) 2012 Hakim El Hattab, http://hakim.se
 */
var Reveal=function(){var HORIZONTAL_SLIDES_SELECTOR=".reveal .slides>section",VERTICAL_SLIDES_SELECTOR=".reveal .slides>section.present>section",IS_TOUCH_DEVICE=!!("ontouchstart"in window),indexh=0,indexv=0,config={controls:!0,progress:!0,history:!1,keyboard:!0,loop:!1,autoSlide:0,mouseWheel:!0,rollingLinks:!0,theme:"default",transition:"default"},state=[],dom={},supports3DTransforms=!0;function initialize(options){dom.wrapper=document.querySelector(".reveal"),dom.progress=document.querySelector(".reveal .progress"),dom.progressbar=document.querySelector(".reveal .progress span"),config.controls&&(dom.controls=document.querySelector(".reveal .controls"),dom.controlsLeft=document.querySelector(".reveal .controls .left"),dom.controlsRight=document.querySelector(".reveal .controls .right"),dom.controlsUp=document.querySelector(".reveal .controls .up"),dom.controlsDown=document.querySelector(".reveal .controls .down")),addEventListeners(),extend(config,options),configure(),readURL(),cueAutoSlide(),navigator.userAgent.match(/(iphone|ipod|android)/i)&&(document.documentElement.style.overflow="scroll",document.body.style.height="120%",window.addEventListener("load",removeAddressBar,!1),window.addEventListener("orientationchange",removeAddressBar,!1))}function configure(){config.transition="linear",config.controls&&dom.controls&&(dom.controls.style.display="block"),config.progress&&dom.progress&&(dom.progress.style.display="block"),"default"!==config.transition&&dom.wrapper.classList.add(config.transition),"default"!==config.theme&&document.documentElement.classList.add("theme-"+config.theme),config.mouseWheel&&(document.addEventListener("DOMMouseScroll",onDocumentMouseScroll,!1),document.addEventListener("mousewheel",onDocumentMouseScroll,!1))}function addEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,!1),document.addEventListener("touchmove",onDocumentTouchMove,!1),document.addEventListener("touchend",onDocumentTouchEnd,!1),window.addEventListener("hashchange",onWindowHashChange,!1),config.keyboard&&document.addEventListener("keydown",onDocumentKeyDown,!1),config.controls&&dom.controls&&(dom.controlsLeft.addEventListener("click",preventAndForward(navigateLeft),!1),dom.controlsRight.addEventListener("click",preventAndForward(navigateRight),!1),dom.controlsUp.addEventListener("click",preventAndForward(navigateUp),!1),dom.controlsDown.addEventListener("click",preventAndForward(navigateDown),!1))}function removeEventListeners(){document.removeEventListener("keydown",onDocumentKeyDown,!1),document.removeEventListener("touchstart",onDocumentTouchStart,!1),document.removeEventListener("touchmove",onDocumentTouchMove,!1),document.removeEventListener("touchend",onDocumentTouchEnd,!1),window.removeEventListener("hashchange",onWindowHashChange,!1),config.controls&&dom.controls&&(dom.controlsLeft.removeEventListener("click",preventAndForward(navigateLeft),!1),dom.controlsRight.removeEventListener("click",preventAndForward(navigateRight),!1),dom.controlsUp.removeEventListener("click",preventAndForward(navigateUp),!1),dom.controlsDown.removeEventListener("click",preventAndForward(navigateDown),!1))}function extend(a,b){for(var i in b)a[i]=b[i]}function distanceBetween(a,b){var dx=a.x-b.x,dy=a.y-b.y;return Math.sqrt(dx*dx+dy*dy)}function preventAndForward(delegate){return function(event){event.preventDefault(),delegate.call()}}function removeAddressBar(){setTimeout((function(){window.scrollTo(0,1)}),0)}function onDocumentKeyDown(event){if(!("inherit"!=event.target.contentEditable||event.shiftKey||event.altKey||event.ctrlKey||event.metaKey)){var triggered=!1;switch(event.keyCode){case 9:triggered=!0;break;case 33:navigatePrev(),triggered=!0;break;case 34:navigateNext(),triggered=!0;break;case 37:navigateLeft(),triggered=!0;break;case 39:navigateRight(),triggered=!0;break;case 38:navigateUp(),triggered=!0;break;case 40:navigateDown(),triggered=!0;break;case 36:navigateTo(0),triggered=!0;break;case 35:navigateTo(Number.MAX_VALUE),triggered=!0;break;case 13:overviewIsActive()&&(deactivateOverview(),triggered=!0)}triggered?event.preventDefault():27===event.keyCode&&(toggleOverview(),event.preventDefault()),cueAutoSlide()}}function onDocumentTouchStart(event){touch.startX=event.touches[0].clientX,touch.startY=event.touches[0].clientY,touch.startCount=event.touches.length,2===event.touches.length&&(touch.startSpan=distanceBetween({x:event.touches[1].clientX,y:event.touches[1].clientY},{x:touch.startX,y:touch.startY}))}function onDocumentTouchMove(event){if(!touch.handled){var currentX=event.touches[0].clientX,currentY=event.touches[0].clientY;if(2===event.touches.length&&2===touch.startCount){var currentSpan=distanceBetween({x:event.touches[1].clientX,y:event.touches[1].clientY},{x:touch.startX,y:touch.startY});Math.abs(touch.startSpan-currentSpan)>touch.threshold&&(touch.handled=!0,currentSpan<touch.startSpan?activateOverview():deactivateOverview())}else if(1===event.touches.length){var deltaX=currentX-touch.startX,deltaY=currentY-touch.startY;deltaX>touch.threshold&&Math.abs(deltaX)>Math.abs(deltaY)?(touch.handled=!0,navigateLeft()):deltaX<-touch.threshold&&Math.abs(deltaX)>Math.abs(deltaY)?(touch.handled=!0,navigateRight()):deltaY>touch.threshold?(touch.handled=!0,navigateUp()):deltaY<-touch.threshold&&(touch.handled=!0,navigateDown())}event.preventDefault()}}function onDocumentTouchEnd(event){touch.handled=!1}function onDocumentMouseScroll(event){clearTimeout(mouseWheelTimeout),mouseWheelTimeout=setTimeout((function(){var delta;(event.detail||-event.wheelDelta)>0?navigateNext():navigatePrev()}),100)}function onWindowHashChange(event){readURL()}function activateOverview(){dom.wrapper.classList.add("overview");for(var horizontalSlides=Array.prototype.slice.call(document.querySelectorAll(".reveal .slides>section")),i=0,len1=horizontalSlides.length;i<len1;i++){var hslide=horizontalSlides[i],htransform="translateZ(-2500px) translate("+105*(i-indexh)+"%, 0%)";hslide.setAttribute("data-index-h",i),hslide.style.display="block",hslide.style.WebkitTransform=htransform,hslide.style.MozTransform=htransform,hslide.style.msTransform=htransform,hslide.style.OTransform=htransform,hslide.style.transform=htransform,hslide.classList.contains("stack")||hslide.addEventListener("click",onOverviewSlideClicked,!0);for(var verticalSlides=Array.prototype.slice.call(hslide.querySelectorAll("section")),j=0,len2=verticalSlides.length;j<len2;j++){var vslide=verticalSlides[j],vtransform="translate(0%, "+105*(j-indexv)+"%)";vslide.setAttribute("data-index-h",i),vslide.setAttribute("data-index-v",j),vslide.style.display="block",vslide.style.WebkitTransform=vtransform,vslide.style.MozTransform=vtransform,vslide.style.msTransform=vtransform,vslide.style.OTransform=vtransform,vslide.style.transform=vtransform,vslide.addEventListener("click",onOverviewSlideClicked,!0)}}}function deactivateOverview(){dom.wrapper.classList.remove("overview");for(var slides=Array.prototype.slice.call(document.querySelectorAll(".reveal .slides section")),i=0,len=slides.length;i<len;i++){var element=slides[i];element.style.WebkitTransform="",element.style.MozTransform="",element.style.msTransform="",element.style.OTransform="",element.style.transform="",element.removeEventListener("click",onOverviewSlideClicked)}slide()}function overviewIsActive(){return dom.wrapper.classList.contains("overview")}function onOverviewSlideClicked(event){overviewIsActive()&&(event.preventDefault(),deactivateOverview(),indexh=this.getAttribute("data-index-h"),indexv=this.getAttribute("data-index-v"),slide())}function updateSlides(selector,index){var slides=Array.prototype.slice.call(document.querySelectorAll(selector)),slidesLength=slides.length;if(slidesLength){config.loop&&(index%=slidesLength)<0&&(index=slidesLength+index),index=Math.max(Math.min(index,slidesLength-1),0);for(var i=0;i<slidesLength;i++){var slide=slides[i];if(!1===overviewIsActive()){var distance=Math.abs((index-i)%(slidesLength-3))||0;slide.style.display=distance>3?"none":"block"}slides[i].classList.remove("past"),slides[i].classList.remove("present"),slides[i].classList.remove("future"),i<index?slides[i].classList.add("past"):i>index&&slides[i].classList.add("future"),slide.querySelector("section")&&slides[i].classList.add("stack")}slides[index].classList.add("present");var slideState=slides[index].getAttribute("data-state");slideState&&(state=state.concat(slideState.split(" ")))}else index=0;return index}function slide(h,v){var stateBefore=state.concat();state.length=0;var indexhBefore=indexh,indexvBefore=indexv;indexh=updateSlides(".reveal .slides>section",void 0===h?indexh:h),indexv=updateSlides(VERTICAL_SLIDES_SELECTOR,void 0===v?indexv:v);stateLoop:for(var i=0,len=state.length;i<len;i++){for(var j=0;j<stateBefore.length;j++)if(stateBefore[j]===state[i]){stateBefore.splice(j,1);continue stateLoop}document.documentElement.classList.add(state[i]),dispatchEvent(state[i])}for(;stateBefore.length;)document.documentElement.classList.remove(stateBefore.pop());if(config.progress&&dom.progress&&(dom.progressbar.style.width=indexh/(document.querySelectorAll(".reveal .slides>section").length-1)*window.innerWidth+"px"),overviewIsActive()&&activateOverview(),updateControls(),clearTimeout(writeURLTimeout),writeURLTimeout=setTimeout(writeURL,1500),indexh!==indexhBefore||indexv!==indexvBefore){var horizontalSlides=document.querySelectorAll(".reveal .slides>section"),previousHorizontalSlide=horizontalSlides[indexhBefore],currentHorizontalSlide=horizontalSlides[indexh],previousVerticalSlides=previousHorizontalSlide.querySelectorAll("section");currentVerticalSlides=currentHorizontalSlide.querySelectorAll("section"),dispatchEvent("slidechanged",{indexh:indexh,indexv:indexv,previousSlide:previousVerticalSlides[indexvBefore]||previousHorizontalSlide,currentSlide:currentVerticalSlides[indexv]||currentHorizontalSlide})}}function updateControls(){if(config.controls&&dom.controls){var routes=availableRoutes();[dom.controlsLeft,dom.controlsRight,dom.controlsUp,dom.controlsDown].forEach((function(node){node.classList.remove("enabled")})),routes.left&&dom.controlsLeft.classList.add("enabled"),routes.right&&dom.controlsRight.classList.add("enabled"),routes.up&&dom.controlsUp.classList.add("enabled"),routes.down&&dom.controlsDown.classList.add("enabled")}}function availableRoutes(){var horizontalSlides=document.querySelectorAll(".reveal .slides>section"),verticalSlides=document.querySelectorAll(VERTICAL_SLIDES_SELECTOR);return{left:indexh>0,right:indexh<horizontalSlides.length-1,up:indexv>0,down:indexv<verticalSlides.length-1}}function readURL(){var bits=window.location.hash.slice(2).split("/"),h,v;navigateTo(parseInt(bits[0])||0,parseInt(bits[1])||0)}function writeURL(){if(config.history){var url="/";(indexh>0||indexv>0)&&(url+=indexh),indexv>0&&(url+="/"+indexv),window.location.hash=url}}function dispatchEvent(type,properties){var event=document.createEvent("HTMLEvents",1,2);event.initEvent(type,!0,!0),extend(event,properties),dom.wrapper.dispatchEvent(event)}function nextFragment(){if(document.querySelector(VERTICAL_SLIDES_SELECTOR+".present")){var verticalFragments=document.querySelectorAll(VERTICAL_SLIDES_SELECTOR+".present .fragment:not(.visible)");if(verticalFragments.length)return verticalFragments[0].classList.add("visible"),dispatchEvent("fragmentshown",{fragment:verticalFragments[0]}),!0}else{var horizontalFragments=document.querySelectorAll(".reveal .slides>section.present .fragment:not(.visible)");if(horizontalFragments.length)return horizontalFragments[0].classList.add("visible"),dispatchEvent("fragmentshown",{fragment:horizontalFragments[0]}),!0}return!1}function previousFragment(){if(document.querySelector(VERTICAL_SLIDES_SELECTOR+".present")){var verticalFragments=document.querySelectorAll(VERTICAL_SLIDES_SELECTOR+".present .fragment.visible");if(verticalFragments.length)return verticalFragments[verticalFragments.length-1].classList.remove("visible"),dispatchEvent("fragmenthidden",{fragment:verticalFragments[verticalFragments.length-1]}),!0}else{var horizontalFragments=document.querySelectorAll(".reveal .slides>section.present .fragment.visible");if(horizontalFragments.length)return horizontalFragments[horizontalFragments.length-1].classList.remove("visible"),dispatchEvent("fragmenthidden",{fragment:horizontalFragments[horizontalFragments.length-1]}),!0}return!1}function cueAutoSlide(){clearTimeout(autoSlideTimeout),config.autoSlide&&(autoSlideTimeout=setTimeout(navigateNext,config.autoSlide))}function navigateTo(h,v){slide(h,v)}function navigateLeft(){(overviewIsActive()||!1===previousFragment())&&slide(indexh-1,0)}function navigateRight(){(overviewIsActive()||!1===nextFragment())&&slide(indexh+1,0)}function navigateUp(){(overviewIsActive()||!1===previousFragment())&&slide(indexh,indexv-1)}function navigateDown(){(overviewIsActive()||!1===nextFragment())&&slide(indexh,indexv+1)}function navigatePrev(){if(!1===previousFragment())if(availableRoutes().up)navigateUp();else{var previousSlide=document.querySelector(".reveal .slides>section.past:nth-child("+indexh+")");previousSlide&&(indexv=previousSlide.querySelectorAll("section").length+1||0,indexh--,slide())}}function navigateNext(){!1===nextFragment()&&(availableRoutes().down?navigateDown():navigateRight()),cueAutoSlide()}function toggleOverview(){overviewIsActive()?deactivateOverview():activateOverview()}return supportsClassList=!0,mouseWheelTimeout=0,autoSlideTimeout=0,writeURLTimeout=0,touch={startX:0,startY:0,startSpan:0,startCount:0,handled:!1,threshold:40},{initialize:initialize,navigateTo:navigateTo,navigateLeft:navigateLeft,navigateRight:navigateRight,navigateUp:navigateUp,navigateDown:navigateDown,navigatePrev:navigatePrev,navigateNext:navigateNext,toggleOverview:toggleOverview,addEventListeners:addEventListeners,removeEventListeners:removeEventListeners,addEventListener:function(type,listener,useCapture){(dom.wrapper||document.querySelector(".reveal")).addEventListener(type,listener,useCapture)},removeEventListener:function(type,listener,useCapture){(dom.wrapper||document.querySelector(".reveal")).removeEventListener(type,listener,useCapture)}}}();